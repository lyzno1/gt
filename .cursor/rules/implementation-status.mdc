---
description:
globs:
alwaysApply: false
---
# GT å®ç°çŠ¶æ€è·Ÿè¸ª

## å‘½ä»¤å®ç°çŠ¶æ€

### âœ… å·²åŸºæœ¬å®ç°
- **gt start** - åˆ›å»ºæ–°åŠŸèƒ½åˆ†æ”¯
  - æ–‡ä»¶ï¼š[src/commands/start.rs](mdc:src/commands/start.rs)
  - çŠ¶æ€ï¼šåŸºæœ¬åŠŸèƒ½å®Œæ•´ï¼Œä½†ç½‘ç»œæ“ä½œæœ‰é—®é¢˜
  - é—®é¢˜ï¼šTLS è¿æ¥å¤±è´¥å¯¼è‡´æ— æ³•æ‹‰å–è¿œç¨‹æ›´æ–°

- **gt save** - ä¿å­˜å·¥ä½œè¿›åº¦
  - æ–‡ä»¶ï¼š[src/commands/save.rs](mdc:src/commands/save.rs)
  - çŠ¶æ€ï¼šåŸºæœ¬åŠŸèƒ½å®Œæ•´
  - æ”¯æŒï¼šäº¤äº’å¼æäº¤ã€æ–‡ä»¶é€‰æ‹©ã€ç¼–è¾‘å™¨é›†æˆ

- **gt status** - æ˜¾ç¤ºä»“åº“çŠ¶æ€
  - æ–‡ä»¶ï¼š[src/cli/router.rs](mdc:src/cli/router.rs) (handle_status æ–¹æ³•)
  - çŠ¶æ€ï¼šåŸºæœ¬å®ç°ï¼Œç›´æ¥ä½¿ç”¨ GitOps

- **gt update** - åŒæ­¥åˆ†æ”¯
  - æ–‡ä»¶ï¼š[src/commands/update.rs](mdc:src/commands/update.rs)
  - çŠ¶æ€ï¼šåŸºæœ¬åŠŸèƒ½å®Œæ•´
  - æ”¯æŒï¼šæ™ºèƒ½ stash ç®¡ç†ã€å†²çªæ£€æµ‹

### ğŸš§ éƒ¨åˆ†å®ç°
- **gt ship** - æäº¤å·¥ä½œæˆæœ
  - æ–‡ä»¶ï¼š[src/commands/ship.rs](mdc:src/commands/ship.rs)
  - çŠ¶æ€ï¼šç»“æ„å®Œæ•´ï¼Œä½† GitHub é›†æˆå¯èƒ½æœ‰é—®é¢˜
  - æ”¯æŒï¼šå¤šç§åˆå¹¶ç­–ç•¥ã€PR åˆ›å»º

- **gt sp** - ä¿å­˜å¹¶æ¨é€
  - æ–‡ä»¶ï¼š[src/commands/sp.rs](mdc:src/commands/sp.rs)
  - çŠ¶æ€ï¼šç»“æ„å­˜åœ¨ï¼Œä½† execute æ–¹æ³•æœªå®ç°
  - é—®é¢˜ï¼šå­—æ®µå®šä¹‰äº†ä½†æœªä½¿ç”¨

### âŒ æœªå®ç°
- **gt config** - é…ç½®ç®¡ç†
  - æ–‡ä»¶ï¼š[src/commands/config.rs](mdc:src/commands/config.rs)
  - çŠ¶æ€ï¼šè¿”å› NotImplemented é”™è¯¯
  - éœ€è¦ï¼šå®Œæ•´çš„é…ç½®ç®¡ç†é€»è¾‘

- **gt init** - åˆå§‹åŒ–ä»“åº“
  - æ–‡ä»¶ï¼š[src/commands/init.rs](mdc:src/commands/init.rs)
  - çŠ¶æ€ï¼šç»“æ„å­˜åœ¨ï¼Œexecute æ–¹æ³•æœªå®ç°

- **gt clean** - æ¸…ç†åˆ†æ”¯
  - æ–‡ä»¶ï¼š[src/commands/clean.rs](mdc:src/commands/clean.rs)
  - çŠ¶æ€ï¼šç»“æ„å­˜åœ¨ï¼Œexecute æ–¹æ³•æœªå®ç°

- **gt rm** - åˆ é™¤åˆ†æ”¯
  - æ–‡ä»¶ï¼š[src/cli/router.rs](mdc:src/cli/router.rs) (handle_rm æ–¹æ³•)
  - çŠ¶æ€ï¼šæ–¹æ³•å­˜åœ¨ä½†æœªå®ç°

## æ ¸å¿ƒæ¨¡å—çŠ¶æ€

### Git æ“ä½œå±‚
- **GitOps** - [src/git/mod.rs](mdc:src/git/mod.rs)
  - çŠ¶æ€ï¼šåŸºæœ¬æ¡†æ¶å®Œæ•´
  - é—®é¢˜ï¼šç½‘ç»œæ“ä½œçš„ TLS æ”¯æŒ

- **Repository** - [src/git/repository.rs](mdc:src/git/repository.rs)
  - çŠ¶æ€ï¼šæ ¸å¿ƒæŠ½è±¡å®Œæ•´
  - åŠŸèƒ½ï¼šçŠ¶æ€æŸ¥è¯¢ã€åŸºæœ¬æ“ä½œ

### GitHub é›†æˆ
- **GitHub CLI** - [src/github/cli.rs](mdc:src/github/cli.rs)
  - çŠ¶æ€ï¼šåŸºæœ¬æŠ½è±¡å®Œæ•´
  - åŠŸèƒ½ï¼šè®¤è¯æ£€æŸ¥ã€å‘½ä»¤æ‰§è¡Œ

- **Pull Request** - [src/github/pr.rs](mdc:src/github/pr.rs)
  - çŠ¶æ€ï¼šç»“æ„å®Œæ•´ï¼Œéƒ¨åˆ†æ–¹æ³•æœªå®ç°
  - é—®é¢˜ï¼šJSON è§£ææ–¹æ³•ä¸ºç©ºå®ç°

### é…ç½®ç®¡ç†
- **ConfigManager** - [src/config/repository.rs](mdc:src/config/repository.rs)
  - çŠ¶æ€ï¼šåŸºæœ¬é…ç½®è¯»å–å®Œæ•´
  - åŠŸèƒ½ï¼šç¯å¢ƒå˜é‡ã€Git é…ç½®æ£€æµ‹

### é”™è¯¯å¤„ç†
- **é”™è¯¯ç±»å‹** - [src/error/types.rs](mdc:src/error/types.rs)
  - çŠ¶æ€ï¼šåŸºæœ¬é”™è¯¯ç±»å‹å®šä¹‰å®Œæ•´
  - åŠŸèƒ½ï¼šGit é”™è¯¯ã€ç½‘ç»œé”™è¯¯ã€ç”¨æˆ·é”™è¯¯

## ç¼–è¯‘è­¦å‘Šåˆ†æ

### æœªä½¿ç”¨çš„å¯¼å…¥
- [src/commands/start.rs](mdc:src/commands/start.rs):7 - `Repository` å¯¼å…¥æœªä½¿ç”¨
- [src/error/handler.rs](mdc:src/error/handler.rs) - å¤šä¸ªæœªä½¿ç”¨å¯¼å…¥
- [src/git/](mdc:src/git/) å¤šä¸ªæ–‡ä»¶ - `GtError` å¯¼å…¥æœªä½¿ç”¨

### æœªä½¿ç”¨çš„å˜é‡
- [src/cli/router.rs](mdc:src/cli/router.rs) - `remote`, `log`, `branch`, `force` ç­‰
- [src/git/repository.rs](mdc:src/git/repository.rs) - `signature`, `message`, `oid` ç­‰

### æœªè¯»å–çš„å­—æ®µ
- [src/commands/sp.rs](mdc:src/commands/sp.rs) - `message`, `edit`, `files` å­—æ®µ
- [src/commands/clean.rs](mdc:src/commands/clean.rs) - `branch` å­—æ®µ
- [src/commands/init.rs](mdc:src/commands/init.rs) - `path` å­—æ®µ
- [src/commands/config.rs](mdc:src/commands/config.rs) - `action` å­—æ®µ

## ä¼˜å…ˆçº§ä¿®å¤å»ºè®®

### é«˜ä¼˜å…ˆçº§
1. **ç½‘ç»œè¿æ¥é—®é¢˜** - ä¿®å¤ TLS é”™è¯¯æˆ–æ·»åŠ ç¦»çº¿æ¨¡å¼
2. **æœªå®ç°çš„æ ¸å¿ƒå‘½ä»¤** - å®Œæˆ sp, config, init, clean å‘½ä»¤
3. **æ¸…ç†ç¼–è¯‘è­¦å‘Š** - ç§»é™¤æœªä½¿ç”¨çš„ä»£ç 

### ä¸­ä¼˜å…ˆçº§
1. **GitHub é›†æˆå®Œå–„** - å®Œæˆ PR ç®¡ç†çš„ JSON è§£æ
2. **é”™è¯¯å¤„ç†æ”¹è¿›** - æ›´å¥½çš„é”™è¯¯æ¢å¤æœºåˆ¶
3. **æµ‹è¯•è¦†ç›–** - æ·»åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

### ä½ä¼˜å…ˆçº§
1. **æ€§èƒ½ä¼˜åŒ–** - å¼‚æ­¥æ“ä½œä¼˜åŒ–
2. **ç”¨æˆ·ä½“éªŒ** - æ›´å¥½çš„è¿›åº¦æ˜¾ç¤ºå’Œäº¤äº’
3. **æ–‡æ¡£å®Œå–„** - API æ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹

## æµ‹è¯•å»ºè®®

### å½“å‰å¯æµ‹è¯•çš„åŠŸèƒ½
```bash
# é¢„æ¼”æ¨¡å¼æµ‹è¯•ï¼ˆå®‰å…¨ï¼‰
cargo run -- --dry-run start test-branch
cargo run -- --dry-run save -m "test"
cargo run -- --dry-run update

# æœ¬åœ°æ¨¡å¼æµ‹è¯•ï¼ˆé¿å…ç½‘ç»œé—®é¢˜ï¼‰
cargo run -- start test-branch --local

# çŠ¶æ€æŸ¥è¯¢ï¼ˆåªè¯»æ“ä½œï¼‰
cargo run -- status
```

### éœ€è¦ä¿®å¤åæµ‹è¯•
```bash
# è¿™äº›å‘½ä»¤å½“å‰ä¼šå¤±è´¥
cargo run -- config
cargo run -- init
cargo run -- clean test-branch
cargo run -- sp -m "test"
```
